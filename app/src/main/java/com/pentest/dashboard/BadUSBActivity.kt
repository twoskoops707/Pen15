package com.pentest.dashboard

import android.os.Bundle
import android.widget.ArrayAdapter
import android.widget.ImageView
import android.widget.ListView
import android.widget.TextView
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity
import com.google.android.material.button.MaterialButton

data class BadUSBPayload(val name: String, val description: String, val script: String)

class BadUSBActivity : AppCompatActivity() {

    private var selectedPayload: BadUSBPayload? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_badusb)

        initializeViews()
        setupClickListeners()
    }

    private fun initializeViews() {
        FlipperConnectionManager.setDataReceivedCallback { data ->
            runOnUiThread {
                Toast.makeText(this, "FLIPPER: $data", Toast.LENGTH_SHORT).show()
            }
        }
    }

    private fun setupClickListeners() {
        findViewById<ImageView>(R.id.btnBack).setOnClickListener { finish() }

        findViewById<MaterialButton>(R.id.btnRickRoll).setOnClickListener {
            Toast.makeText(this, "Rick Roll payload - Coming soon", Toast.LENGTH_SHORT).show()
        }

        findViewById<MaterialButton>(R.id.btnWifiGrabber).setOnClickListener {
            Toast.makeText(this, "WiFi Grabber payload - Coming soon", Toast.LENGTH_SHORT).show()
        }

        findViewById<MaterialButton>(R.id.btnCustomScript).setOnClickListener {
            Toast.makeText(this, "Load custom script - Coming soon", Toast.LENGTH_SHORT).show()
        }

        findViewById<MaterialButton>(R.id.fabControl).setOnClickListener {
            Toast.makeText(this, "Execute payload - Coming soon", Toast.LENGTH_SHORT).show()
        }
    }

}
